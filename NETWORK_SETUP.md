# 네트워크 접속 설정 가이드

다른 컴퓨터에서 이 서비스에 접속하는 방법을 안내합니다.

## 📋 설정 단계

### 1단계: 백엔드 서버 HTTPS 설정 (권장)

`backend-example` 폴더에 `.env` 파일을 생성하고 다음 내용을 추가하세요:

```env
# HTTPS 사용 (비디오 면접을 위해 권장)
USE_HTTPS=true

# 외부 접속 허용
HOST=0.0.0.0

# 기타 설정 (필요시)
PORT=3001
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
OPENAI_API_KEY=your-openai-api-key-if-needed
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/interview
```

### 2단계: 백엔드 서버 실행

```bash
cd backend-example
npm run dev
```

서버가 시작되면 콘솔에 다음과 같은 메시지가 표시됩니다:
```
🔒 HTTPS 서버 모드로 시작합니다.
🌐 서버 URL:
   - 로컬: https://localhost:3001
   - 네트워크: https://172.16.17.182:3001
```

**네트워크 IP 주소**를 확인하세요 (예: `172.16.17.182`)

⚠️ **중요**: HTTPS로 실행하면 자체 서명 인증서가 자동 생성됩니다. 브라우저에서 경고가 나타나면 "고급" → "안전하지 않음으로 이동"을 클릭하세요.

### 3단계: 프론트엔드 .env 파일 설정

프로젝트 루트에 `.env` 파일이 있는지 확인하고, 없으면 생성하세요:

```env
# 서버 컴퓨터의 IP 주소로 변경 (HTTPS 사용 시 https:// 사용)
REACT_APP_API_URL=https://172.16.17.182:3001/api

# 외부 접근 허용
HOST=0.0.0.0
```

⚠️ **중요**: 백엔드를 HTTPS로 실행했다면 `https://`를 사용하세요!

⚠️ **중요**: `172.16.17.182`를 실제 서버 컴퓨터의 IP 주소로 변경하세요!

### 4단계: 프론트엔드 개발 서버 실행

```bash
npm start
```

서버가 시작되면:
- 로컬 접속: `https://localhost:3000`
- 네트워크 접속: `https://172.16.17.182:3000` (서버 컴퓨터의 IP)

⚠️ **HTTPS 경고**: 자체 서명 인증서를 사용하므로 브라우저에서 경고가 나타납니다. "고급" → "안전하지 않음으로 이동"을 클릭하세요.

### 5단계: 다른 컴퓨터에서 접속

1. **같은 네트워크(Wi-Fi/랜)에 연결**되어 있어야 합니다
2. 브라우저에서 `https://172.16.17.182:3000` 접속
3. HTTPS 경고가 나타나면 "고급" → "안전하지 않음으로 이동" 클릭
4. 프론트엔드와 백엔드 모두 HTTPS 경고가 나타날 수 있습니다 (자체 서명 인증서 사용)

## 🔧 문제 해결

### 방화벽 설정

Windows 방화벽에서 포트를 열어야 합니다:

1. **Windows 방화벽 설정 열기**
   - 제어판 → 시스템 및 보안 → Windows Defender 방화벽
   - 또는 `wf.msc` 실행

2. **인바운드 규칙 추가**
   - "인바운드 규칙" → "새 규칙"
   - "포트" 선택
   - TCP, 포트 3000, 3001 추가
   - "연결 허용" 선택
   - 모든 프로필에 적용

### IP 주소 확인 방법

서버 컴퓨터에서:
```bash
ipconfig
```

"IPv4 주소"를 찾으세요 (예: `172.16.17.182`)

### API 연결 실패 시

1. `.env` 파일의 `REACT_APP_API_URL`이 올바른지 확인
2. 백엔드 서버가 실행 중인지 확인
3. 방화벽 설정 확인
4. 같은 네트워크에 연결되어 있는지 확인

### 비디오 면접이 작동하지 않을 때

HTTP 환경에서는 카메라/마이크 접근이 제한될 수 있습니다.

**해결 방법:**

1. **HTTPS 사용 (권장)**
   - `npm start`로 실행하면 자동으로 HTTPS 사용
   - 브라우저에서 경고 무시하고 접속

2. **Chrome 플래그 설정 (개발용)**
   - Chrome 주소창에 `chrome://flags/#unsafely-treat-insecure-origin-as-secure` 입력
   - "Insecure origins treated as secure" 활성화
   - `http://172.16.17.182:3000` 추가
   - 브라우저 재시작

## 📝 체크리스트

- [ ] 백엔드 서버 실행 중
- [ ] 백엔드 서버의 네트워크 IP 확인
- [ ] `.env` 파일에 올바른 IP 주소 설정
- [ ] 프론트엔드 서버 실행 중
- [ ] 방화벽에서 포트 3000, 3001 허용
- [ ] 같은 네트워크에 연결됨
- [ ] 다른 컴퓨터에서 `https://[서버IP]:3000` 접속 가능

## 🌐 네트워크 구조

```
[서버 컴퓨터]
├── 백엔드 서버: http://172.16.17.182:3001
└── 프론트엔드: https://172.16.17.182:3000

[다른 컴퓨터]
└── 브라우저: https://172.16.17.182:3000 접속
```

## ⚠️ 주의사항

1. **보안**: 개발 환경에서만 사용하세요. 프로덕션 배포 시 적절한 보안 설정이 필요합니다.
2. **네트워크**: 같은 Wi-Fi/랜 네트워크에 연결되어 있어야 합니다.
3. **HTTPS**: 비디오 면접 기능을 사용하려면 HTTPS가 필요합니다.

